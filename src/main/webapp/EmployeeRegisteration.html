<!DOCTYPE html>
<html>
<head>
	<title>Registration</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="mystyle.css">
    <script src="formValidation.js"></script>
    <style type="text/css">
    form{
        background-color: rgb(226, 220, 220);
        padding: 10px;
        padding-top: 30px;
        width: 60%;
       text-align: center;
       border: 4px solid rgb(255, 252, 252);
       border-radius: 25px;
        
    }
    

    
    </style>
</head>
<body>
        <nav class="navbar navbar-expand-sm navbar-dark sticky-top">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="#" style="color: hotpink;">
                    <img src="logo.jpg" width="30px" height="30px">
                    STAR</a>
                  </li>
            </ul>
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link" href="managerHomePage.html">HOME</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="#">REGISTRATION</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="AllProfile.html">EMPLOYEE PROFILE</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  REIMBURSEMENT REQUEST
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="allrequest.html">ALL REQUEST</a>
                  <a class="dropdown-item" href="viewPending.html">PENDING REQUEST</a>
                  <a class="dropdown-item" href="viewAccepted.html">ACCEPTED REQUEST</a>
                </div>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="managerProfile.html">PROFILE</a>
              </li> 
              <li class="nav-item">
                <a class="nav-link" href="logout.html">LOGOUT</a>
              </li>              
            </ul>
          </nav>
    </header>
    <div id="mySidepanel" class="sidepanel">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="#">About</a>
        <a href="#">Services</a>
        <a href="#">Clients</a>
        <a href="#">Contact</a>
      </div>
	<br>
	<div class="container">
		<h3 style="color:indigo;"><center>Register here!</center></h3>
        <center>
            <form name="register">
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label for="formGroupExampleInput">First Name</label>
                        </div>
                        <div class="col col-md-6">
                            <input type="text" class="form-control" name="firstName" id="firstName" placeholder="Enter your first name">
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label for="formGroupExampleInput">Last Name</label>
                        </div>
                        <div class="col col-md-6">
                            <input type="text" class="form-control" name="lastName" id="lastName" placeholder="Enter your last name">
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label for="formGroupExampleInput2">DOB</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="date" class="form-control" name="dob" id="dob" placeholder="Another input" required>
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label for="formGroupExampleInput">Age</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="number" class="form-control" name="age" id="age" placeholder="Enter your age">
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label for="formGroupExampleInput2">Gender</label>
                        </div>
                        <div class="col col-md-4">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="male" name="gender" value="male">
                                <label class="form-check-label" >Male</label>
                              </div>
                        </div>
                        <div class="col col-md-4">
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" id="female" name="gender" value="female">
                                <label class="form-check-label">Female</label>
                              </div>
                        </div>   
                    </div>
                </div>    
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label>Email address</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="email" class="form-control"  name="email" id="emailid" aria-describedby="emailHelp" placeholder="Enter email" required>
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label>Password</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="password" class="form-control" name="user_password" id="user_password" placeholder="Password" onchange="check_pass()">
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label>Confirm Password</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="password" class="form-control" name="confirm_password"  id="confirm_password" placeholder="Password" onchange="check_pass()">
                            <span id="message"></span>
                        </div>   
                    </div>
                </div>       
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label for="inputState">Designation</label>
                        </div>
                        <div class="col col-md-8">
                            <select id="designation" name="designation" class="form-control">
                                <option selected>Choose...</option>
                                <option value="Software Developer">Software Developer</option>
                                <option value="Quality Analyst">Quality Analyst</option>
                                <option value="HR">HR</option>
                                <option value="System Engineer">System Engineer</option>
                                <option value="Trainer">Trainer</option>
                                <option value="Finance Manager">Finance Manager</option>
                            </select>
                        </div>   
                    </div>
                </div>          
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label>Door number</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="text" class="form-control" name="doorNumber"  id="doorNumber" placeholder="1234">
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label>Street name</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="text" class="form-control" name="street" id="street"  placeholder="Enter street name">
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label>District</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="text" class="form-control" name="district" id="district" placeholder="Enter district name">
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label>Pin code:</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="number" class="form-control" name="pincode" id="pincode" placeholder="600000">
                        </div>   
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col col-md-4">
                            <label for="phone">Contact number:</label>
                        </div>
                        <div class="col col-md-8">
                            <input type="tel"  class="form-control" name="phone" id="phone" pattern="[0-9]{10}" placeholder="9999999999">
                        </div>   
                    </div>
                </div>
                <div class="form-group clearfix">
                    <button type="button" class="btn btn-primary" onclick="submitValue()">Register Now</button>
                </div>
            </form>
        </center>
	</div>
    <script>
        function check_pass() {
            if (document.getElementById('user_password').value ==
                document.getElementById('confirm_password').value) {
                document.getElementById('message').style.color = 'green';
                document.getElementById('message').innerHTML = 'Password Matching';
            } else {
                document.getElementById('message').style.color = 'red';
                document.getElementById('message').innerHTML = 'Password Not Matching';
            }
        }
        function submitValue()
        {
            var firstName=document.getElementById("firstName").value;
            var lastName=document.getElementById("lastName").value;
            var dob=document.getElementById("dob").value;
            var age=document.getElementById("age").value;
            var gender=document.register.gender.value;
            console.log(gender);
            var emailid=document.getElementById("emailid").value;
            var user_password=document.getElementById("user_password").value;
            var confirm_password=document.getElementById("confirm_password").value;
            var designation=document.getElementById("designation").value;
            var doorNumber=document.getElementById("doorNumber").value;
            var street=document.getElementById("street").value;
            var district=document.getElementById("district").value;
            var pincode=document.getElementById("pincode").value;
            var phone=document.getElementById("phone").value;
          /*  var current=new Date().toLocaleDateString();
            console.log(current);
            console.log(dob);
            var newdate = current.split("-").reverse().join("-");
            console.log(current);
            var a= Math.abs(current - dob);
            console.log(a);*/
            var obj={"firstName":firstName,"lastName":lastName,"dob":dob,"age":age,"gender":gender,"emailid":emailid,"password":user_password,"designation":designation,"doornumber":doorNumber,"street":street,"district":district,"pincode":pincode,"contactno":phone};
            console.log(obj);
            fetch("http://18.117.138.163:8081/Reimbursement/webapi/controller/insert", {
                    body: JSON.stringify(obj),
                    headers: {
                        "Content-Type": "application/json",
                    },
                    method: "POST"
                })
            .then((response)=>response.json())
            .then((json)=>display(json))
            .catch(err=>console.log('Request failed'));
        }
        function display(res){
            if(res.status===1){
                alert("Success");
            }
            else{
                alert("failed");
            }
        } 
        function openNav() {
  document.getElementById("mySidepanel").style.width = "250px";
}

/* Set the width of the sidebar to 0 (hide it) */
function closeNav() {
  document.getElementById("mySidepanel").style.width = "0";
}
    </script>
</body>
</html>
